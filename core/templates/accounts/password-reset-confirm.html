{% extends 'accounts/base.html' %}

{% block content %}

<div class="container content-space-3 content-space-t-lg-4 content-space-b-lg-3">
  <div class="flex-grow-1 mx-auto" style="max-width: 28rem;">
    {% if validlink %}
    <!-- Heading -->
    <div class="text-center mb-5 mb-md-7">
      <h1 class="h2">فرم بازیابی رمزعبور</h1>
      <p>برای تغییر رمزعبور کافیست فرم زیر را پر نمایید</p>
    </div>
    <!-- End Heading -->

    <!-- Form -->
    <form method="post" class="needs-validation" novalidate>
      {% csrf_token %}
      <!-- Form -->
      <div class="mb-3">
        <label class="form-label" for="signupSimpleSignupPassword">رمز عبور</label>

        <div class="input-group input-group-merge" data-hs-validation-validate-class>
          <input type="password" class="js-toggle-password form-control form-control-lg text-center"
            name="new_password1" id="signupSimpleSignupPassword" placeholder="حداقل ۸ حرف"
            aria-label="حداقل ۸ حرف" required data-hs-toggle-password-options='{
                       "target": [".js-toggle-password-target-1", ".js-toggle-password-target-2"],
                       "defaultClass": "bi-eye-slash",
                       "showClass": "bi-eye",
                       "classChangeTarget": ".js-toggle-passowrd-show-icon-1"
                     }'>
          <a class="js-toggle-password-target-1 input-group-append input-group-text" href="javascript:;">
            <i class="js-toggle-passowrd-show-icon-1 bi-eye"></i>
          </a>
        </div>

        <span class="invalid-feedback">رمز عبور شما نامعتبر است. لطفا دوباره تلاش کنید.</span>
      </div>
      <!-- End Form -->

      <!-- Form -->
      <div class="mb-3">
        <label class="form-label" for="signupSimpleSignupConfirmPassword">رمز عبور را تایید کنید</label>

        <div class="input-group input-group-merge" data-hs-validation-validate-class>
          <input type="password" class="js-toggle-password form-control form-control-lg text-center"
            name="new_password2" id="signupSimpleSignupConfirmPassword" placeholder="حداقل ۸ حرف"
            aria-label="حداقل ۸ حرف" required data-hs-validation-equal-field="#signupSimpleSignupPassword"
            data-hs-toggle-password-options='{
                     "target": [".js-toggle-password-target-1", ".js-toggle-password-target-2"],
                     "defaultClass": "bi-eye-slash",
                     "showClass": "bi-eye",
                     "classChangeTarget": ".js-toggle-passowrd-show-icon-2"
                   }'>
          <a class="js-toggle-password-target-2 input-group-append input-group-text" href="javascript:;">
            <i class="js-toggle-passowrd-show-icon-2 bi-eye"></i>
          </a>
        </div>

        <span class="invalid-feedback">رمز عبور با رمز عبور تأیید مطابقت ندارد.</span>
      </div>
      <!-- End Form -->

      <div class="d-grid mb-3">
        <button type="submit" class="btn btn-primary btn-lg">ارسال</button>
      </div>
    </form>
    <!-- End Form -->
    {% else %}
    <div class="alert alert-warning">
      لینک بازیابی رمز عبور نامعتبر است، احتمالاً به این دلیل که قبلاً استفاده شده یا مدت اعتبار آن تمام شده است.
      لطفاً درخواست بازیابی رمز عبور جدیدی ارسال کنید
    </div>
    {% endif %}
  </div>
</div>
<!-- End Form -->

{% endblock content %}